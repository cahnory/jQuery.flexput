/*! flexput - http://cahnory.github.com/jQuery.flexput/ | (c) Fran√ßois Germain - http://opensource.org/licenses/MIT
*/(function(b){var a=b.easyPlug({name:"flexput",events:[],presets:{duration:100,easing:"swing",horizontal:true,vertical:true,leadingCols:2,leadingRows:1,watch:false,jump:true},construct:function(){var c=this;while(this.leadingCols.length<this.settings.leadingCols){this.leadingCols+="M"}while(this.leadingRows.length<this.settings.leadingRows){this.leadingRows+="\n."}this.element.css({overflow:"hidden"}).on(a.addNamespace("keydown keyup change"),function(){c.update()});this.reference=a.getReference(this.element);if(this.settings.watch){this.watch(this.settings.watch)}setTimeout(function(){c.update(true)},1)},prototype:{reference:undefined,leadingCols:"",leadingRows:"",watch:function(c){var d=this;this.unwatch();this.interval=setInterval(function(){d.update()},c)},unwatch:function(){clearInterval(this.interval);delete this.interval},update:function(c){if(this.settings.horizontal){this.element.stop(a.queues.horizontal,true,this.settings.jump).animate({width:this.getWidth()},{duration:c?0:this.settings.duration,easing:this.settings.easing,queue:a.queues.horizontal}).dequeue(a.queues.horizontal)}if(this.settings.vertical){this.element.stop(a.queues.vertical,true,false).animate({height:this.getHeight()},{duration:c?0:this.settings.duration,easing:this.settings.easing,queue:a.queues.vertical}).dequeue(a.queues.vertical)}},getWidth:function(){var d,c;this.enableReference();this.reference.css({height:this.element.css("height"),width:"auto"}).text(this.getContent(this.leadingCols));d=this.referenceCss("width");this.disableReference();return d},getHeight:function(){var c,d;this.enableReference();this.reference.css({width:this.element.css("width"),height:"auto"}).text(this.getContent(this.leadingRows));c=this.referenceCss("height");this.disableReference();return c},getContent:function(d){var c=this.element.val()+d;if(c===""){c="."}return c},referenceCss:function(f){var e,d,c;e=this.reference.css(f);d=this.element.attr("style");c=this.element.css(f,e).css(f);this.element.attr("style",d);if(e!==c){this.reference.css(f,c)}return c},enableReference:function(){this.reference.appendTo("body")},disableReference:function(){this.reference.detach()}}});a.getReference=function(c){return b(document.createElement("span")).css(b.extend(c.css(a.referenceNeeds),a.referenceStyle))};a.referenceStyle={whiteSpace:"pre",left:"-9999px",position:"absolute",visibility:"hidden",top:"-9999px"};a.referenceNeeds=["boxSizing","mozBoxSizing","webkitBoxSizing","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","glyphOrientationHorizontal","glyphOrientationVertical","lineHeight","maxHeight","maxWidth","minHeight","minWidth","padding","textRendering","whiteSpace","wordWrap"];a.queues={horizontal:a.addPrefix("horizontal"),vertical:a.addPrefix("vertical")}}(jQuery));